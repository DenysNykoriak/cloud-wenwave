# Infrastructure (IaC)

Terraform-managed AWS infrastructure for Cloud Wenwave. Uses a shared main module (`_modules/main`) and environment-specific roots (`staging/`, `prod/`) with remote state in S3.

The main module provisions API Gateway, Cognito (user pool + OIDC), Lambdas (from `server` build output), S3, CloudFront, SQS, SNS, and related IAM. Lambda definitions are generated by the server build and live in `_modules/server-generated-lambdas`; apply from an environment directory (e.g. `staging`) after running the server build.

## Commands

From `staging/` or `prod/`:

- `terraform init`
- `terraform plan`
- `terraform apply`
